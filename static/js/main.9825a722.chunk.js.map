{"version":3,"sources":["utils/routes/logic.js","utils/redux/actions.js","utils/routes/mainRoutes.js","utils/redux/selectors.js","utils/api/API.js","utils/redux/operations.js","Components/loader/Loader.js","Components/navigator/Navigator.js","Components/usermenu/UserMenu.js","Components/header/styles.js","Components/header/Header.js","Components/switcher/ConditionRoute.js","Components/switcher/Switcher.js","Components/main/Main.js","App/App.js","utils/redux/reducer.js","utils/redux/store.js","index.js"],"names":["specificPath","path","split","filter","i","length","includes","orderPathRoutes","routes","result","sort","a","b","exactRoute","uppercase","str","map","e","toUpperCase","join","getNameRoute","name","reduce","c","authChecker","isAuth","isPrivate","isPublic","undefined","load","createAction","addContact","delContact","changeFilter","changeContactForm","changeSignIn","changeSignUp","login","logout","register","loader","exactLink","isLink","component","lazy","getFilter","isLoading","getContactForm","contactForm","getSignIn","signIn","getSignUp","signUp","getUser","user","email","token","getContacts","contacts","getFContacts","createSelector","toLowerCase","startsWith","isExist","number","some","URL","createRequest","callback","data","console","log","axios","defaults","headers","common","res","response","isError","get","add","id","post","del","delete","signOut","error","err","dispatch","status","message","alert","statusText","text","request","createOperation","api","success","after","getState","loadContacts","addContacts","r","delContacts","signInContacts","username","signUpContacts","signOutContacts","Loader","Navigator","StyledList","children","route","to","exact","activeClassName","UserMenu","useSelector","useDispatch","history","useHistory","type","onClick","replace","StyledContainer","com","nav","ul","Header","CRoute","Component","condition","render","props","Switcher","Main","App","auth","fallback","initSignIn","password","signInReducer","createReducer","state","payload","initSignUp","signUpReducer","initContactForm","contactFormReducer","filterReducer","_","initUser","userReducer","initContacts","contactsReducer","loaderReducer","rootReducer","combineReducers","store","configureStore","reducer","middleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9825a722.chunk.js","sourcesContent":["const specificPath = ({ path }) =>\n  path.split('/').filter((i) => i !== '').length + (path.includes(':') ? 1 : 0);\n\nexport const orderPathRoutes = (routes) => {\n  const result = [...routes];\n\n  result.sort((a, b) => {\n    if (a.exactRoute && !b.exactRoute) return -1;\n    if (!a.exactRoute && b.exactRoute) return 1;\n    if (specificPath(a) > specificPath(b)) return -1;\n    if (specificPath(a) < specificPath(b)) return 1;\n    return 0;\n  });\n  return result;\n};\n\nexport const uppercase = (str) =>\n  str\n    .split('')\n    .map((e, i) => (i === 0 ? e.toUpperCase() : e))\n    .join('');\n\nexport const getNameRoute = (routes, name) =>\n  routes.reduce((a, c) => (c.name === name ? c.path : a), '');\n\nexport const authChecker = (isAuth, { isPrivate, isPublic }) =>\n  isAuth === undefined ? true : isAuth ? isPrivate : isPublic;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const load = createAction('@/contact/load');\nexport const addContact = createAction('@/contact/add');\nexport const delContact = createAction('@/contact/del');\n\nexport const changeFilter = createAction('@/filter/change');\nexport const changeContactForm = createAction('@/form/change');\nexport const changeSignIn = createAction('@/signin/change');\nexport const changeSignUp = createAction('@/signup/change');\n\nexport const login = createAction('@/login');\nexport const logout = createAction('@/logout');\nexport const register = createAction('@/register');\n\nexport const loader = createAction('@/loading');\n","import { lazy } from 'react';\n\nconst routes = [\n  {\n    name: 'error',\n    path: '/',\n    exactLink: false,\n    exactRoute: false,\n    isLink: false,\n    isPublic: true,\n    isPrivate: true,\n    component: lazy(() => import('../../Components/error/Error.js')),\n  },\n  {\n    name: 'home',\n    path: '/',\n    exactLink: true,\n    exactRoute: true,\n    isLink: true,\n    isPublic: true,\n    isPrivate: true,\n    component: lazy(() => import('../../Components/home/Home.js')),\n  },\n\n  {\n    name: 'contacts',\n    path: '/contacts',\n    exactLink: true,\n    exactRoute: true,\n    isLink: true,\n    isPublic: false,\n    isPrivate: true,\n    component: lazy(() => import('../../Components/contacts/Contacts.js')),\n  },\n  {\n    name: 'signin',\n    path: '/login',\n    exactLink: true,\n    exactRoute: true,\n    isLink: true,\n    isPublic: true,\n    isPrivate: false,\n    component: lazy(() => import('../../Components/signin/SignIn.js')),\n  },\n  {\n    name: 'signup',\n    path: '/register',\n    exactLink: true,\n    exactRoute: true,\n    isLink: true,\n    isPublic: true,\n    isPrivate: false,\n    component: lazy(() => import('../../Components/signup/SignUp.js')),\n  },\n];\n\nexport default routes;\n","import { createSelector } from '@reduxjs/toolkit';\n\nexport const getFilter = ({ filter }) => filter;\n\nexport const isLoading = ({ loader }) => loader;\n\nexport const getContactForm = ({ contactForm }) => contactForm;\n\nexport const getSignIn = ({ signIn }) => signIn;\n\nexport const getSignUp = ({ signUp }) => signUp;\n\nexport const getUser = ({ user }) => user.email;\n\nexport const isAuth = ({ user }) => (user.token ? true : false);\n\nconst getContacts = ({ contacts }) => contacts;\n\nexport const getFContacts = createSelector(\n  [getContacts, getFilter],\n  (contacts, filter) =>\n    contacts.filter((i) =>\n      i.name.toLowerCase().startsWith(filter.split(' ').join('').toLowerCase()),\n    ),\n);\n\nexport const isExist = createSelector(\n  [getContacts, getContactForm],\n  (contacts, { name, number }) =>\n    contacts.some(\n      (i) => i.number === number || i.name.toLowerCase() === name.toLowerCase(),\n    ),\n);\n","import axios from 'axios';\nconst URL = 'https://connections-api.herokuapp.com';\n\nconst createRequest=async (token=\"\",callback,path,data) => {\n  console.log('register -> ',path,data);\n  axios.defaults.headers.common['Authorization']=token\n\n  try{\n    const res= data? await callback(path,data): await callback(path)\n    console.log('register: ',res)\n    return res;\n  }\n  catch({response}){\n    console.log('fail: ',response)\n    return {...response, isError: true}\n  }\n};\n\nexport const get = async (data, token) => {\n  const res=await createRequest(token, axios.get,`${URL}/contacts`)\n  if(res.isError) return res\n    return res.data\n}\n \n\nexport const add = async (data, token) => {\n  delete data.id\n  const res= await createRequest(token, axios.post,`${URL}/contacts`,data)\nif(res.isError) return res\n    return res.data.id}\n\nexport const del = async (data, token) => \n await createRequest(token, axios.delete,`${URL}/contacts/${data}`)\n\nexport const signIn = async (data, token) => {\n  const res=await createRequest(\"\",axios.post,`${URL}/users/login`,data)\n  if(res.isError) return res\n    return res.data.token\n}\n\n\nexport const signUp = async (data, token) => \n  await createRequest(\"\",axios.post,`${URL}/users/signup`,{...data, name:\"Pupkin\"})\n\nexport const signOut = async (data, token) => \n  await createRequest(token, axios.post,`${URL}/users/logout`)\n","import { get, add, del, signIn, signUp, signOut } from '../api/API';\nimport {\n  load,\n  addContact,\n  delContact,\n  login,\n  logout,\n  register,\n  loader,\n} from './actions';\n\nexport const error = (err) => (dispatch) => {\n  if (!err.isError) return;\n\n  if (err.status) {\n    err.status === 400 && err.data.message ? alert(`${err.status} Error: ${err.data.message}`) : alert(`${err.status} Error: ${err.statusText}`);\n  } else if (err.text) {\n    alert(`Error: ${err.text}`);\n  } else {\n    alert('Unknow error');\n  }\n};\n\nconst request = async (dispatch, callback) => {\n  const result = await callback();\n\n  if (result.isError) {\n    dispatch(error(result));\n    return null;\n  }\n  return result;\n};\n\nconst createOperation =\n  (api, success, after) =>\n  (data = {}) =>\n  async (dispatch, getState) => {\n    dispatch(loader(true));\n\n      const result = await request(\n        dispatch,\n        async () => await api(data, getState().user.token),\n      );\n\n      if (result !== null)\n        after ? after(result, dispatch, data) : dispatch(success(data));\n\n    dispatch(loader(false));\n  };\n\nexport const loadContacts = createOperation(get, load, (res, dispatch) =>\n  dispatch(load(res)),\n);\n\nexport const addContacts = createOperation(add, addContact, (r,dispatch,data)=>dispatch(addContact({...data,id:r})));\n\nexport const delContacts = createOperation(del, delContact);\n\nexport const signInContacts = createOperation(\n  signIn,\n  login,\n  (r, dispatch, { username }) => {\n    dispatch(login({ username, token: r }));\n    dispatch(loadContacts());\n  },\n);\n\nexport const signUpContacts = createOperation(\n  signUp,\n  register,\n  (r, dispatch) => {\n    alert('You has registered.');\n    dispatch(register());\n  },\n);\n\nexport const signOutContacts = createOperation(signOut, logout);\n","import React from 'react';\n\nconst Loader = () => {\n  return <h6>Loading...</h6>;\n};\n\nexport default Loader;\n","import React from 'react';\nimport { uppercase, authChecker } from '../../utils/routes/logic.js';\nimport { NavLink } from 'react-router-dom';\n\nconst Navigator = ({\n  routes,\n  path = '',\n  isAuth = false,\n  StyledList = ({ children }) => <ul>{children}</ul>,\n}) => {\n  return (\n    <StyledList>\n      {routes.map(\n        (route) =>\n          route.isLink &&\n          authChecker(isAuth, route) && (\n            <li key={route.path}>\n              <NavLink\n                to={path + route.path}\n                exact={route.exactLink}\n                activeClassName={'active'}\n              >\n                {uppercase(route.name)}\n              </NavLink>\n            </li>\n          ),\n      )}\n    </StyledList>\n  );\n};\n\nexport default Navigator;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { getNameRoute } from '../../utils/routes/logic';\nimport routes from '../../utils/routes/mainRoutes';\nimport { getUser } from '../../utils/redux/selectors';\nimport { signOutContacts } from '../../utils/redux/operations';\n\nconst UserMenu = () => {\n  const username = useSelector(getUser);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleClick = () => {\n    dispatch(signOutContacts());\n    history.replace(getNameRoute(routes, 'home'));\n  };\n  return (\n    <>\n      <p>{username}</p>\n      <button type=\"button\" onClick={handleClick}>\n        Log Out\n      </button>\n    </>\n  );\n};\n\nexport default UserMenu;\n","import com from 'styled-components';\n\nexport const StyledContainer = com.nav`\n\tdisplay: flex;\ngap: 10px;\njustify-content: end;\n\tpadding: 10px;\n\tpadding-left: 20px;\n\tmargin-bottom: 5px;\n\t-webkit-box-shadow: 0px 5px 4px -1px rgba(34, 60, 80, 0.2);\n\t-moz-box-shadow: 0px 5px 4px -1px rgba(34, 60, 80, 0.2);\n\tbox-shadow: 0px 5px 4px -1px rgba(34, 60, 80, 0.2);\n`;\n\nexport const StyledList = com.ul`\n\tdisplay: flex;\n\tlist-style: none;\n\tgap: 10px;\n\n\n\ta{\n\t\tcolor: inherit;\n\t}\n`;\n","import React from 'react';\nimport routes from '../../utils/routes/mainRoutes.js';\nimport Navigator from '../navigator/Navigator';\nimport UserMenu from '../usermenu/UserMenu';\nimport { StyledContainer, StyledList } from './styles.js';\n\nfunction Header({ isAuth }) {\n  return (\n    <StyledContainer>\n      <Navigator routes={routes} StyledList={StyledList} isAuth={isAuth} />\n      {isAuth && <UserMenu />}\n    </StyledContainer>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction CRoute({ component: Component, exact, path, condition, to, route }) {\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={(props) =>\n        condition ? <Component {...props} /> : <Redirect to={to} />\n      }\n    />\n  );\n}\n\nexport default CRoute;\n","import React from 'react';\nimport { Switch } from 'react-router-dom';\nimport { orderPathRoutes, getNameRoute } from '../../utils/routes/logic.js';\nimport Route from './ConditionRoute';\n\nfunction Switcher({ routes, path = '', isAuth = false }) {\n  return (\n    <>\n      <Switch>\n        {orderPathRoutes(routes).map((route) =>\n          isAuth ? (\n            <Route\n              key={route.name}\n              exact={route.exactRoute}\n              component={route.component}\n              path={path + route.path}\n              condition={route.isPrivate}\n              to={getNameRoute(routes, 'contacts')}\n            />\n          ) : (\n            <Route\n              key={route.name}\n              exact={route.exactRoute}\n              component={route.component}\n              path={path + route.path}\n              condition={route.isPublic}\n              to={getNameRoute(routes, 'home')}\n            />\n          ),\n        )}\n      </Switch>\n    </>\n  );\n}\n\nexport default Switcher;\n","import React from 'react';\nimport Switcher from '../switcher/Switcher';\nimport routes from '../../utils/routes/mainRoutes.js';\n\nconst Main = ({ isAuth }) => {\n  return (\n    <>\n      <Switcher routes={routes} isAuth={isAuth} />\n    </>\n  );\n};\n\nexport default Main;\n","import React, { Suspense } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isAuth } from '../utils/redux/selectors';\nimport Header from '../Components/header/Header.js';\nimport Main from '../Components/main/Main.js';\nimport Loader from '../Components/loader/Loader.js';\n\nfunction App() {\n  const auth = useSelector(isAuth);\n  return (\n    <Suspense fallback={<Loader />}>\n      <Header isAuth={auth} />\n      <Main isAuth={auth} />\n    </Suspense>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  load,\n  addContact,\n  delContact,\n  changeFilter,\n  changeContactForm,\n  changeSignIn,\n  changeSignUp,\n  login,\n  logout,\n  register,\n  loader,\n} from './actions';\n\n// signIn\n\nconst initSignIn = {\n  email: '',\n  password: '',\n};\n\nconst signInReducer = createReducer(initSignIn, {\n  [changeSignIn]: (state, { payload }) => ({ ...state, ...payload }),\n  [login]: () => ({ ...initSignIn }),\n  [logout]: () => ({ ...initSignIn }),\n});\n\n// signUp\n\nconst initSignUp = {\n  email: '',\n  password: '',\n};\n\nconst signUpReducer = createReducer(initSignUp, {\n  [changeSignUp]: (state, { payload }) => ({ ...state, ...payload }),\n  [register]: () => ({ ...initSignUp }),\n  [logout]: () => ({ ...initSignUp }),\n});\n\n// contactForm\n\nconst initContactForm = {\n  id: '',\n  name: '',\n  number: '',\n};\n\nconst contactFormReducer = createReducer(initContactForm, {\n  [changeContactForm]: (state, { payload }) => ({ ...state, ...payload }),\n  [addContact]: () => ({ ...initContactForm }),\n  [logout]: () => ({ ...initContactForm }),\n});\n\n// filter\n\nconst initFilter = '';\n\nconst filterReducer = createReducer(initFilter, {\n  [changeFilter]: (_, { payload }) => payload,\n  [logout]: () => initFilter,\n});\n\n// user\n\nconst initUser = {\n  token: '',\n  username: '',\n};\n\nconst userReducer = createReducer(initUser, {\n  [login]: (state, { payload }) => ({ ...payload }),\n  [logout]: () => ({ ...initUser }),\n});\n\n// contacts\n\nconst initContacts = [];\n\nconst contactsReducer = createReducer(initContacts, {\n  [load]: (_, { payload }) => payload,\n  [addContact]: (state, { payload }) => [...state, payload],\n  [delContact]: (state, { payload }) => state.filter((i) => i.id !== payload),\n  [logout]: () => initContacts,\n});\n\n// loader\n\nconst initLoader = false;\n\nconst loaderReducer = createReducer(initLoader, {\n  [loader]: (_, { payload }) => payload,\n});\n\n//rootReducer\n\nconst rootReducer = combineReducers({\n  signIn: signInReducer,\n  signUp: signUpReducer,\n  contactForm: contactFormReducer,\n  filter: filterReducer,\n  user: userReducer,\n  contacts: contactsReducer,\n  loader: loaderReducer,\n});\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport reducer from './reducer';\nimport thunk from 'redux-thunk';\n\nconst store = configureStore({ reducer, middleware: [thunk] });\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './utils/redux/store';\nimport './normalize.css';\nimport './globalStyles.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}